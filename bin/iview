#!/home/lcooper/python/cvtools/venv/bin/python
#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
iview cli
"""

import click
from open_cv import PATH
from open_cv.lib import iview


@click.command()
@click.option("--size", type=click.IntRange(min=8), default=640,
              help="maximum height or width of window")
@click.argument("path", type=PATH)
#@click.argument("paths", type=PATH, nargs=-1)
def main(path, size):
    """
    iview - a digital photo viewer

    iview displays the image specified by PATH.
    PATH is the path to an image file or a directory containing images

    iview allows you to step forward or backward though all the images
    and/or image directories specified in the arguments.

    \b
    Hit
      <SPACE>     to go to the next image.
      <BACKSPACE> to go to the previous image.
      <ESCAPE>    to exit.
    """

    if not path:
        ctx = click.get_current_context()
        click.echo(ctx.get_help())
    else:
        iview.main(path, size)


if __name__ == '__main__':
    main()
